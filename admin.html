<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Admin panel</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="logo.png" type="image/x-icon">
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
          <a class="navbar-brand" href="index.html" id="webname-mini">
            <img src="logo.png" alt="Icon" class="d-inline-block align-text-top navbar-logo">
            NyxVault
          </a>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                  aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
              <li class="nav-item">
                <a class="nav-link" href="index.html">F≈ëoldal</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="products.html">Term√©keink</a>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="admin.html">Bel√©p√©s</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>

<div class="container mt-5 main-content">
    <h2 class="mb-4" id="webname">√öj term√©k hozz√°ad√°sa</h2>
    <form id="addCardForm">
        <div class="mb-3">
            <label for="title" class="form-label">C√≠m</label>
            <input type="text" class="form-control" id="title" required>
        </div>
        <div class="mb-3">
            <label for="description" class="form-label">Le√≠r√°s</label>
            <textarea class="form-control" id="description" required></textarea>
        </div>
        <div class="mb-3">
            <label for="image" class="form-label">K√©p URL</label>
            <input type="url" class="form-control" id="image" required>
        </div>
        <div class="mb-3">
            <label for="price" class="form-label">√År (Ft)</label>
            <input type="number" class="form-control" id="price" required>
        </div>

      <div class="d-flex justify-content-between align-items-center mt-3">
          <div>
            <button type="submit" class="btn btn-outline-success me-2">Ment√©s</button>
            <button type="button" class="btn btn-outline-secondary" onclick="cancelEdit()">M√©gse</button>
          </div>
          <div>
          <button type="button" class="btn btn-outline-info me-2" data-bs-toggle="modal" data-bs-target="#webshopMode">Webshop m√≥d</button>
          <button type="button" class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#clearModal">Tiszt√≠t√°s</button>
          </div>
      </div>
    </form>

      <!-- Tiszt√≠t√°s meger≈ës√≠t≈ë modal -->
    <div class="modal fade" id="clearModal" tabindex="-1" aria-labelledby="clearModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content" style="background-color: var(--color-1); color: var(--text-color);">
          <div class="modal-header">
            <h5 class="modal-title" id="clearModalLabel">‚ö†Ô∏è <span class="modalTitleDec">Figyelmeztet√©s</span></h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Bez√°r√°s"></button>
          </div>
          <div class="modal-body">
            Biztosan t√∂rl√∂d az √∂sszes mentett adatot? <br> <span class="figyelmeztet">Ez a m≈±velet nem vonhat√≥ vissza!</span>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">M√©gse</button>
            <button type="button" class="btn btn-outline-danger" onclick="confirmClear()">Meger≈ës√≠t√©s</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Webshop m√≥d meger≈ës√≠t≈ë modal -->
    <div class="modal fade" id="webshopMode" tabindex="-1" aria-labelledby="webshopModeLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content" style="background-color: var(--color-1); color: var(--text-color);">
          <div class="modal-header">
            <h5 class="modal-title" id="webshopModeLabel">üõí Webshop m√≥d</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Bez√°r√°s"></button>
          </div>
          <div class="modal-body">
            Ezzel az opci√≥val felt√∂lt√∂d az alap√©rtelmezett bemutat√≥ term√©keket a rendszerbe.
            <br><span class="figyelmeztet">A megl√©v≈ë term√©keket fel√ºl√≠rja!</span>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">M√©gse</button>
            <button type="button" class="btn btn-outline-info" onclick="confirmWebshopMode()">Felt√∂lt√©s</button>
          </div>
        </div>
      </div>
    </div>


    <hr class="my-5">

    <h2 id="webname">Term√©kek</h2>
    <div id="adminCardsContainer" class="row g-3 mt-3"></div>
</div>

<footer class="site-footer mt-auto py-4">
  <div class="container text-center text-muted small">
    <p>&copy; 2025 NyxVault. Minden jog fenntartva.</p>
    <p>K√©sz√≠tette: Bord√°s D√°niel | Kapcsolat: nyxvault@webshop.hu</p>
  </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
<script>
const STORAGE_KEY = 'cards';
let editIndex = null;

function saveCard(event) {
    event.preventDefault(); // Ne t√∂ltse √∫jra az oldalt

    const title = document.getElementById('title').value.trim();
    const description = document.getElementById('description').value.trim();
    const price = parseFloat(document.getElementById('price').value);
    const image = document.getElementById('image').value.trim();

    if (!title || !description || isNaN(price) || !image) {
        alert('Minden mez≈ët ki kell t√∂lteni!');
        return;
    }

    const cards = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
    const cardData = { title, description, price, image };

    if (editIndex !== null) {
        cards[editIndex] = cardData;
        editIndex = null;
    } else {
        cards.push(cardData);
    }

    localStorage.setItem(STORAGE_KEY, JSON.stringify(cards));
    loadCards();
    document.getElementById('addCardForm').reset();
}



function loadCards() {
    const cards = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
    const container = document.getElementById('adminCardsContainer');
    container.innerHTML = '';

     if (cards.length === 0) {
        container.innerHTML = '<p class="text-muted">Nincsenek megjelen√≠thet≈ë k√°rty√°k.</p>';
        return;
    }

    cards.forEach((card, index) => {
        const col = document.createElement('div');
        col.className = 'col-12 col-sm-6 col-lg-4'; // Mobilon 1, tableten 2, desktopon 3 oszlop

        const cardDiv = document.createElement('div');
        cardDiv.className = 'card product-card h-100';

        cardDiv.innerHTML = `
            <img src="${card.image}" class="card-img-top" alt="K√©p">
            <div class="card-body d-flex flex-column">
                <h5 class="card-title">${card.title}</h5>
                <p class="card-text">${card.description}</p>
                <p class="card-price mt-auto"><strong>${card.price.toFixed(0)} Ft</strong></p>
                <div class="btn-container">
                    <button class="btn btn-outline-warning btn-sm" onclick="editCard(${index})">Szerkeszt√©s</button>
                    <button class="btn btn-outline-danger btn-sm" onclick="deleteCard(${index})">T√∂rl√©s</button>
                </div>
            </div>
        `;

        col.appendChild(cardDiv);
        container.appendChild(col);
    });
}

function cancelEdit() {
  const form = document.getElementById("addCardForm");
    if (form) {
        form.reset();
    }
}

function clearLocalStorage() {
  if (confirm("Biztosan t√∂rl√∂d az √∂sszes mentett adatot?")) {
    localStorage.clear();
    alert("A localStorage ki√ºr√≠tve.");
    location.reload(); // Friss√≠t√©s, ha sz√ºks√©ges
  }
}

function editCard(index) {
    const cards = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
    const card = cards[index];

    document.getElementById('title').value = card.title;
    document.getElementById('description').value = card.description;
    document.getElementById('price').value = card.price;
    document.getElementById('image').value = card.image;

    editIndex = index;
}

function deleteCard(index) {
    const cards = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');
    cards.splice(index, 1);
    localStorage.setItem(STORAGE_KEY, JSON.stringify(cards));
    loadCards();
}

function confirmClear() {
  localStorage.clear();
  const modal = bootstrap.Modal.getInstance(document.getElementById('clearModal'));
  modal.hide(); // bez√°rja a modalt
  location.reload(); // √∫jrat√∂lti az oldalt, ha kell
}



function webshopMode() {
    const demoProducts = [
        {
            title: "G√≥tikus gyertyatart√≥",
            description: "Ez a fekete kov√°csoltvas gyertyatart√≥ eleg√°ns, de s√∂t√©t hangulatot k√∂lcs√∂n√∂z b√°rmely szob√°nak. Ide√°lis gyertyaf√©nyes est√©khez, ritu√°l√©khoz vagy egyszer≈±en dekor√°ci√≥nak a lak√°sodba.",
            price: 3990,
            image: "kepek/gotikus_gyerta_tarto.jpg"
        },
        {
            title: "Baphomet falik√©p",
            description: "Ez a r√©szletesen kidolgozott f√©m falik√©p Baphomet szimb√≥lum√°val t√∂k√©letes v√°laszt√°s a misztikum √©s a g√≥tikus eszt√©tika szerelmeseinek. Er≈ës vizu√°lis hat√°st kelt a nappaliban vagy h√°l√≥szob√°ban.",
            price: 7490,
            image: "kepek/baphomet_felikep.jpg"
        },
        {
            title: "Koponya kulcstart√≥",
            description: "A kis m√©ret≈±, m√©gis r√©szletgazdag f√©mb≈ël k√©sz√ºlt koponya kulcstart√≥ remek aj√°nd√©k lehet. Praktikus kieg√©sz√≠t≈ë, amely egyedi st√≠lust sugall minden haszn√°latkor.",
            price: 1990,
            image: "kepek/koponya_kulcstarto.jpg"
        },
        {
            title: "Vel√∫r pentagram t√°ska",
            description: "Egyedi, puha tapint√°s√∫ vel√∫rb√≥l k√©sz√ºlt oldalt√°ska, amelyet egy arany pentagram d√≠sz√≠t. T√∂k√©letes kieg√©sz√≠t≈ë a s√∂t√©t divat szerelmeseinek, mindennapi haszn√°latra is kiv√°l√≥.",
            price: 12990,
            image: "kepek/velur_pentagram_taska.jpeg"
        },
        {
            title: "Fekete r√≥zs√°s hajd√≠sz",
            description: "K√©zzel k√©sz√≠tett hajd√≠sz selyem fekete r√≥zs√°kkal, amely romantikus √©s s√∂t√©t eleganci√°t k√∂lcs√∂n√∂z visel≈ëj√©nek. Esk√ºv≈ëre, fot√≥z√°sra vagy csak st√≠lusos megjelen√©shez.",
            price: 3490,
            image: "kepek/fekete_rozsas_hajdisz.png"
        },
        {
            title: "G√≥tikus katedr√°lis gy≈±r≈±",
            description: "Massz√≠v, ez√ºst sz√≠n≈± gy≈±r≈± apr√≥ katedr√°lisos mint√°zattal, amely a k√∂z√©pkori √©p√≠t√©szetet id√©zi. Tart√≥s √©s karakteres √©kszer, amely kiemeli egy√©nis√©gedet.",
            price: 4990,
            image: "kepek/gotikus_katedral_gyuru.jpg"
        },
        {
            title: "Holdf√©ny var√°zs nyakl√°nc",
            description: "Ez√ºst sz√≠n≈± l√°ncon f√ºgg≈ë iriz√°l√≥ holdmed√°l, amely megcsillan minden mozdulattal. Egyedis√©g √©s misztikum √∂tv√∂zete a mindennapokra vagy k√ºl√∂nleges alkalmakra.",
            price: 5590,
            image: "kepek/holdfeny_varazs_nyaklanc.jpg"
        },
        {
            title: "Misztikus k√∂nyv alak√∫ √©kszerdoboz",
            description: "F√°b√≥l k√©sz√ºlt, k√∂nyv alak√∫ doboz b√©l√©ses bels≈ëvel, mely t√∂k√©letesen rejti √©kszereidet vagy titkos eml√©keidet. K√≠v√ºlr≈ël dombornyomott pentagram √©s antikolt design.",
            price: 8690,
            image: "kepek/gotikus_ekszertarto.png"
        },
        {
            title: "Kopony√°s m√©csestart√≥",
            description: "Ker√°mi√°b√≥l k√©sz√ºlt koponya alak√∫ m√©csestart√≥, amely f√©lelmetes f√©nyt vet a s√∂t√©tben. Kiv√°l√≥ halloween dekor√°ci√≥, de eg√©sz √©vben d√≠sze lehet otthonodnak.",
            price: 2990,
            image: "kepek/koponya_mecsestarto.jpg"
        },
        {
            title: "G√≥tikus harisnyatart√≥ szett",
            description: "Fekete csipk√©b≈ël k√©sz√ºlt, l√°ncos d√≠sz√≠t√©ssel ell√°tott harisnyatart√≥ szett, amely k√ºl√∂nleges alkalmakra vagy alternat√≠v divatkedvel≈ëknek k√©sz√ºlt. R√©szletgazdag √©s mer√©sz kieg√©sz√≠t≈ë.",
            price: 7890,
            image: "kepek/gotikus_harisnyatarto.jpg"
        },
        {
            title: "√úvegb√∫r√°s fekete r√≥zsa",
            description: "Egy √ºvegb√∫ra alatt √°ll√≥ fekete r√≥zsa, amely √∂r√∂k mement√≥ja lehet a s√∂t√©t romantik√°nak. T√∂k√©letes aj√°nd√©k vagy k√ºl√∂nleges lak√°sdekor√°ci√≥.",
            price: 9990,
            image: "kepek/uvegburaba_zart_fekete_rozsa.jpg"
        }
    ];
// Bet√∂ltj√ºk a megl√©v≈ë term√©keket (ha vannak)
    const existing = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');

    // √ñsszef≈±zz√ºk a megl√©v≈ë √©s az √∫j term√©keket
    const updated = existing.concat(demoProducts);

    // Elmentj√ºk az √∫jat
    localStorage.setItem(STORAGE_KEY, JSON.stringify(updated));

    // Friss√≠tj√ºk a megjelen√≠t√©st
    loadCards();
}

function confirmWebshopMode() {
    webshopMode();
    const modal = bootstrap.Modal.getInstance(document.getElementById('webshopMode'));
    modal.hide(); // bez√°rja a modalt
}


window.addEventListener('DOMContentLoaded', () => {
    loadCards();
    document.getElementById('addCardForm').addEventListener('submit', saveCard);
});
</script>



</body>
</html>
